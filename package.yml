name       : qgis
version    : 2.18.2
release    : 4
source     :
    - https://github.com/qgis/QGIS/archive/final-2_18_2.tar.gz : d61c0b28bc9aa84b36bbe8b25cb4432b5f8d31836431976d5bc8d43d4808647b
license    : GPL-2.0
component  : desktop
summary    : QGIS is a free, open source, cross platform (lin/win/mac) geographical
    information system (GIS)
description: |
    QGIS is a free, open source, cross platform (lin/win/mac) geographical information system (GIS)
builddeps  :
    - pkgconfig(gdal)
    - pkgconfig(gsl)
    - pkgconfig(icu-i18n)
    - pkgconfig(libpng)
    - pkgconfig(libpq)
    - pkgconfig(libspatialindex)
    - pkgconfig(qca2)
    - pkgconfig(QJson)
    - pkgconfig(QtCore)
    - pkgconfig(spatialite)
    - pkgconfig(sqlite3)
    - geos
    - proj.4-devel
    - python-qscintilla
    - python-qt4
    - python-sip-devel
    - qscintilla-devel
    - qwt-devel
rundeps    :
    - python-qscintilla
    - python-qt4
setup      : |
    %patch -p1 < $pkgfiles/0002-fix-FindQCA.patch
    cp $pkgfiles/FindQsci.py cmake/
    %cmake -DENABLE_TESTS=0 -DWITH_QTWEBKIT=0 \
           -DQT_MOC_EXECUTABLE=/usr/bin/moc-qt4 \
           -DQT_RCC_EXECUTABLE=/usr/bin/rcc-qt4 \
           -DQT_QMAKE_EXECUTABLE=/usr/bin/qmake-qt4 \
           -DQT_UIC_EXECUTABLE=/usr/bin/uic-qt4 \
           -DWITH_BINDINGS=0 \
           .
build      : |
    %make
install    : |
    %make_install
    install -D -m 00644 $pkgfiles/qgis.desktop $installdir/usr/share/applications/qgis.desktop
